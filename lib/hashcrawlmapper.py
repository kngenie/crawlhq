#!/usr/bin/python
#
import re
import fpgenerator

# simply include resultant regular expression,
# rather than reimplementing PublicSuffixes in Python.
# run org.archive.net.PublicSuffixes.main() and remove (?ix) at the beginning.
TASP_RE=u'(?:a(?:c,(?:com,|edu,|gov,|net,|mil,|org,|)|d,(?:nom,|)|e(?:,(?:co,|net,|org,|sch,|ac,|gov,|mil,|)|ro,(?:a(?:ccident-(?:investigation,|prevention,)|ero(?:batic,|club,|drome,)|gents,|ir(?:craft,|line,|port,|-(?:surveillance,|traffic-control,)|traffic,)|m(?:bulance,|usement,)|ssociation,|uthor,)|b(?:allooning,|roker,)|c(?:a(?:a,|rgo,|tering,)|ertification,|ha(?:mpionship,|rter,)|ivilaviation,|lub,|o(?:n(?:ference,|sult(?:ant,|ing,)|trol,)|uncil,)|rew,)|d(?:esign,|gca,)|e(?:ducator,|mergency,|n(?:gine(?:,|er,)|tertainment,)|quipment,|x(?:change,|press,))|f(?:ederation,|light,|reight,|uel,)|g(?:liding,|overnment,|rou(?:ndhandling,|p,))|h(?:anggliding,|omebuilt,)|insurance,|journal(?:,|ist,)|l(?:easing,|ogistics,)|m(?:a(?:gazine,|intenance,|rketplace,)|edia,|icrolight,|odelling,)|navigation,|p(?:a(?:ra(?:chuting,|gliding,)|ssenger-association,)|ilot,|r(?:ess,|oduction,))|r(?:e(?:creation,|pbody,|s(?:,|earch,))|otorcraft,)|s(?:afety,|cientist,|ervices,|how,|kydiving,|oftware,|tudent,)|t(?:axi,|ra(?:d(?:er,|ing,)|iner,))|union,|work(?:inggroup,|s,)|))|f,(?:gov,|com,|org,|net,|edu,|)|g,(?:co(?:m,|,)|org,|n(?:et,|om,)|)|i,(?:o(?:ff,|rg,)|com,|net,|)|l,(?:gov,|edu,|org,|com,|net,|)|m,|n,(?:com,|net,|org,|edu,|)|o,(?:ed,|gv,|og,|co,|pb,|it,|)|q,|r(?:,(?:(?=congresodelalengua3,)|(?=educ,)|(?=gobiernoelectronico,)|(?=mecon,)|(?=nacion,)|(?=nic,)|(?=promocion,)|(?=retina,)|(?=uba,)|[-\\w]+,)|pa,(?:e164,|i(?:n-addr,|p6,)|ur(?:i,|n,)))|s(?:,(?:gov,|)|ia,)|t,(?:gv,|ac,|co,|or,|priv,|)|u,(?:edu,(?:act,|n(?:sw,|t,)|qld,|sa,|tas,|vic,|wa,)|gov,(?:act,|n(?:sw,|t,)|qld,|sa,|tas,|vic,|wa,)|[-\\w]+,)|w,(?:com,|)|x,|z,(?:com,|n(?:et,|ame,)|in(?:t,|fo,)|gov,|org,|edu,|p(?:p,|ro,)|mil,|biz,|))|b(?:a,(?:org,|net,|edu,|gov,|mil,|un(?:sa,|bi,)|co(?:,|m,)|rs,|)|b,(?:com,|edu,|gov,|net,|org,|)|d,[-\\w]+,|e,(?:ac,|)|f,(?:gov,|)|g,(?:a,|b,|c,|d,|e,|f,|g,|h,|i,|j,|k,|l,|m,|n,|o,|p,|q,|r,|s,|t,|u,|v,|w,|x,|y,|z,|0,|1,|2,|3,|4,|5,|6,|7,|8,|9,|)|h,(?:com,|)|i(?:,(?:co(?:,|m,)|edu,|or(?:,|g,)|)|z,)|j,|m,(?:com,|edu,|gov,|net,|org,|)|n,[-\\w]+,|o,(?:com,|edu,|go(?:v,|b,)|int,|org,|net,|mil,|tv,|)|r,(?:a(?:d(?:m,|v,)|gr,|m,|r(?:q,|t,)|to,)|b(?:io,|log,|md,)|c(?:an,|im,|n(?:g,|t,)|o(?:m,|op,))|e(?:cn,|du,|ng,|sp,|t(?:c,|i,))|f(?:ar,|log,|m,|nd,|ot,|st,)|g(?:12,|gf,|ov,)|i(?:mb,|n(?:d,|f,))|j(?:or,|us,)|lel,|m(?:at,|ed,|il,|us,)|n(?:et,|o(?:m,|t,)|tr,)|o(?:do,|rg,)|p(?:pg,|ro,|s(?:c,|i,))|qsl,|rec,|s(?:lg,|rv,)|t(?:mp,|rd,|ur,|v,)|v(?:et,|log,)|wiki,|zlg,|)|s,(?:com,|net,|org,|edu,|gov,|)|t,[-\\w]+,|w,(?:co,|org,|)|y,(?:gov,|mil,|com,|)|z,(?:com,|net,|org,|edu,|gov,|))|c(?:a(?:,(?:ab,|bc,|mb,|n(?:b,|f,|l,|s,|t,|u,)|on,|pe,|qc,|sk,|yk,|gc,|)|t,)|c,|d,(?:gov,|)|f,|g,|h,|i,(?:or(?:g,|,)|co(?:m,|,)|ed(?:u,|,)|a(?:c,|sso,|\xe9roport,)|net,|go(?:,|uv,)|int,|presse,|md,|)|k,[-\\w]+,|l,(?:go(?:v,|b,)|)|m,(?:gov,|)|n,(?:a(?:c,|h,)|c(?:om,|q,)|edu,|g(?:ov,|d,|s,|z,|x,)|n(?:et,|m,|x,)|org,|m(?:il,|o,)|\u516c\u53f8,|\u7f51\u7edc,|\u7db2\u7d61,|bj,|fj,|h(?:a,|b,|e,|i,|l,|n,|k,)|j(?:l,|s,|x,)|ln,|qh,|s(?:c,|d,|h,|n,|x,)|t(?:j,|w,)|x(?:j,|z,)|yn,|zj,|)|o(?:,(?:arts,|com,|edu,|firm,|gov,|in(?:fo,|t,)|mil,|n(?:et,|om,)|org,|rec,|web,|)|m,(?:ar,|br,|cn,|de,|eu,|gb,|hu,|jpn,|kr,|no,|qc,|ru,|s(?:a,|e,)|u(?:k,|s,|y,)|za,|)|op,)|r,[-\\w]+,|u,(?:com,|edu,|org,|net,|gov,|inf,|)|v,|x,(?:gov,|)|y,[-\\w]+,|z,)|d(?:e,|j,|k,|m,(?:com,|net,|org,|edu,|gov,|)|o,[-\\w]+,|z,(?:com,|org,|net,|gov,|edu,|a(?:sso,|rt,)|pol,|))|e(?:c,(?:com,|info,|net,|fin,|k12,|m(?:ed,|il,)|pro,|org,|edu,|gov,|)|du,|e,(?:edu,|gov,|riik,|lib,|med,|com,|pri,|aip,|org,|fie,|)|g,[-\\w]+,|r,[-\\w]+,|s,(?:com,|nom,|org,|gob,|edu,|)|t,[-\\w]+,|u,)|f(?:i,(?:aland,|)|j,[-\\w]+,|k,[-\\w]+,|m,|o,|r,(?:c(?:om,|ci,|h(?:ambagri,|irurgiens-dentistes,))|a(?:ss(?:o,|edic,)|eroport,|vo(?:cat,|ues,))|no(?:m,|taires,)|p(?:r(?:d,|esse,)|harmacien,|ort,)|tm,|experts-comptables,|g(?:eometre-expert,|ouv,|reta,)|huissier-justice,|medecin,|veterinaire,|))|g(?:a,|d,|e,(?:com,|edu,|gov,|org,|mil,|net,|pvt,|)|f,|g,(?:co,|org,|net,|sch,|gov,|)|h,(?:com,|edu,|gov,|org,|mil,|)|i,(?:com,|ltd,|gov,|mod,|edu,|org,|)|l,|m,|n,(?:ac,|com,|edu,|gov,|org,|net,)|ov,|p,(?:com,|net,|mobi,|edu,|org,|asso,|)|q,|r,(?:com,|edu,|net,|org,|gov,|)|s,|t,[-\\w]+,|u,[-\\w]+,|w,|y,(?:co(?:,|m,)|net,|))|h(?:k,(?:com,|edu,|gov,|idv,|net,|org,|\u516c\u53f8,|\u6559\u80b2,|\u654e\u80b2,|\u653f\u5e9c,|\u500b\u4eba,|\u4e2a\u4eba,|\u7b87\u4eba,|\u7db2(?:\u7edc,|\u7d61,)|\u7f51(?:\u7edc,|\u7d61,)|\u7ec4(?:\u7e54,|\u7ec7,)|\u7d44(?:\u7e54,|\u7ec7,)|)|m,|n,(?:com,|edu,|org,|net,|mil,|gob,|)|r,(?:iz,|from,|name,|com,|)|t,(?:co(?:m,|op,)|shop,|firm,|info,|a(?:dult,|rt,|sso,)|net,|p(?:ro,|ol,|erso,)|org,|med,|edu,|rel,|gouv,|)|u,(?:c(?:o,|asino,|ity,)|in(?:fo,|gatlan,)|org,|priv,|s(?:port,|ex,|hop,|uli,|zex,)|t(?:m,|ozsde,)|2000,|agrar,|bolt,|eroti(?:ca,|ka,)|f(?:ilm,|orum,)|games,|hotel,|jogasz,|konyvelo,|lakas,|media,|news,|reklam,|utazas,|video,|))|i(?:d,[-\\w]+,|e,(?:gov,|)|l,[-\\w]+,|m,(?:co,(?:ltd,|plc,|)|n(?:et,|ic,)|gov,|org,|ac,|)|n(?:,(?:co,|firm,|n(?:et,|ic,)|org,|g(?:en,|ov,)|ind,|ac,|edu,|res,|mil,|)|fo,|t,(?:eu,|))|o,(?:com,|)|q,(?:gov,|edu,|)|r,(?:ac,|co,|gov,|id,|net,|org,|sch,|)|s,(?:net,|com,|edu,|gov,|org,|int,|)|t,(?:g(?:o(?:v,|rizia,|,)|e(?:no(?:va,|a,)|,)|r(?:osseto,|,))|e(?:du,|n(?:na,|,))|a(?:g(?:rigento,|,)|l(?:essandria,|,|to(?:-adige,|adige,))|n(?:cona,|,)|o(?:st(?:a,|e,)|,)|r(?:ezzo,|,)|s(?:coli(?:-piceno,|piceno,)|ti,)|p,|t,|v(?:ellino,|,)|q(?:uila,|,))|b(?:a(?:r(?:i,|letta(?:andriatrani,|-andria-trani,))|,|lsan,)|e(?:lluno,|nevento,|rgamo,)|l,|n,|g,|i(?:ella,|,)|o(?:l(?:ogna,|zano,)|,|zen,)|z,|r(?:escia,|indisi,|,)|s,)|s(?:uedtirol,|p,|a(?:lerno,|,|ssari,|vona,)|s,|v,|i(?:ena,|,|racusa,)|r,|o(?:ndrio,|,))|c(?:a(?:gliari,|,|ltanissetta,|mpobasso,|serta,|tan(?:ia,|zaro,))|l,|b,|e,|t,|z,|h(?:ieti,|,)|o(?:mo,|,|senza,)|s,|r(?:emona,|,|otone,)|uneo,|n,)|kr,|f(?:e(?:r(?:mo,|rara,)|,)|i(?:renze,|,)|lorence,|o(?:ggia,|rli(?:-cesena,|cesena,))|g,|c,|r(?:osinone,|,))|i(?:m(?:peria,|,)|s(?:ernia,|,))|l(?:a(?:quila,|-spezia,|spezia,|tina,)|t,|e(?:cc(?:e,|o,)|,)|c,|i(?:vorno,|,)|o(?:di,|,)|u(?:cca,|,))|m(?:a(?:cerata,|ntova,|ssa(?:-carrara,|carrara,)|tera,)|c,|n,|s,|t,|e(?:ssina,|,)|i(?:lan(?:o,|,)|,)|o(?:dena,|,|nza,))|n(?:a(?:p(?:oli,|les,)|,)|o(?:vara,|,)|u(?:oro,|,))|or(?:istano,|,)|p(?:a(?:d(?:ova,|ua,)|lermo,|,|rma,|via,)|d,|r(?:,|ato,)|v,|e(?:rugia,|s(?:cara,|aro(?:-urbino,|urbino,))|,)|g,|u,|i(?:acenza,|s(?:a,|toia,)|,)|c,|t,|o(?:rdenone,|tenza,|,)|n,|z,)|r(?:a(?:gusa,|venna,|,)|g,|e(?:ggio(?:-(?:calabria,|emilia,)|calabria,|emilia,)|,)|c,|i(?:eti,|,|mini,)|n,|o(?:m(?:a,|e,)|vigo,|,)|m,)|t(?:a(?:ranto,|,)|e(?:r(?:amo,|ni,)|,)|r(?:,|apani,|e(?:nt(?:o,|ino,)|viso,)|ieste,)|o(?:rino,|,)|urin,|p,|n,|v,|s,)|ud(?:ine,|,)|v(?:a(?:rese,|,)|e(?:n(?:ezia,|ice,)|,|r(?:bania,|celli,|ona,))|b,|c,|r,|i(?:bo(?:-valentia,|valentia,)|cenza,|,|terbo,)|v,|t,)|))|j(?:e,(?:co,|org,|net,|sch,|gov,|)|m,[-\\w]+,|o(?:,(?:com,|org,|n(?:et,|ame,)|edu,|sch,|gov,|mil,|)|bs,)|p,(?:a(?:c,|d,|ichi,(?:(?=pref,)|[-\\w]+,)|kita,(?:(?=pref,)|[-\\w]+,)|omori,(?:(?=pref,)|[-\\w]+,))|c(?:o,|hiba,(?:(?=pref,)|(?=city,)|[-\\w]+,))|e(?:d,|hime,(?:(?=pref,)|[-\\w]+,))|g(?:o,|r,|ifu,(?:(?=pref,)|[-\\w]+,)|unma,(?:(?=pref,)|[-\\w]+,))|lg,|n(?:e,|a(?:g(?:a(?:no,(?:(?=pref,)|[-\\w]+,)|saki,(?:(?=pref,)|[-\\w]+,))|oya,(?:(?=city,)|[-\\w]+,))|ra,(?:(?=pref,)|[-\\w]+,))|iigata,(?:(?=pref,)|(?=city,)|[-\\w]+,))|o(?:r,|ita,(?:(?=pref,)|[-\\w]+,)|k(?:ayama,(?:(?=pref,)|[-\\w]+,)|inawa,(?:(?=pref,)|[-\\w]+,))|saka,(?:(?=pref,)|(?=city,)|[-\\w]+,))|fuku(?:i,(?:(?=pref,)|[-\\w]+,)|oka,(?:(?=pref,)|(?=city,)|[-\\w]+,)|shima,(?:(?=pref,)|[-\\w]+,))|h(?:iroshima,(?:(?=pref,)|(?=city,)|[-\\w]+,)|okkaido,(?:(?=pref,)|[-\\w]+,)|yogo,(?:(?=pref,)|[-\\w]+,))|i(?:baraki,(?:(?=pref,)|[-\\w]+,)|shikawa,(?:(?=pref,)|[-\\w]+,)|wate,(?:(?=pref,)|[-\\w]+,))|k(?:a(?:g(?:awa,(?:(?=pref,)|[-\\w]+,)|oshima,(?:(?=pref,)|[-\\w]+,))|nagawa,(?:(?=pref,)|[-\\w]+,)|wasaki,(?:(?=city,)|[-\\w]+,))|itakyushu,(?:(?=city,)|[-\\w]+,)|o(?:be,(?:(?=city,)|[-\\w]+,)|chi,(?:(?=pref,)|[-\\w]+,))|umamoto,(?:(?=pref,)|[-\\w]+,)|yoto,(?:(?=pref,)|(?=city,)|[-\\w]+,))|mi(?:e,(?:(?=pref,)|[-\\w]+,)|ya(?:gi,(?:(?=pref,)|[-\\w]+,)|zaki,(?:(?=pref,)|[-\\w]+,)))|s(?:a(?:ga,(?:(?=pref,)|[-\\w]+,)|itama,(?:(?=pref,)|(?=city,)|[-\\w]+,)|pporo,(?:(?=city,)|[-\\w]+,))|endai,(?:(?=city,)|[-\\w]+,)|hi(?:ga,(?:(?=pref,)|[-\\w]+,)|mane,(?:(?=pref,)|[-\\w]+,)|zuoka,(?:(?=pref,)|(?=city,)|[-\\w]+,)))|to(?:chigi,(?:(?=pref,)|[-\\w]+,)|k(?:ushima,(?:(?=pref,)|[-\\w]+,)|yo,(?:(?=metro,)|[-\\w]+,))|ttori,(?:(?=pref,)|[-\\w]+,)|yama,(?:(?=pref,)|[-\\w]+,))|wakayama,(?:(?=pref,)|[-\\w]+,)|y(?:ama(?:g(?:ata,(?:(?=pref,)|[-\\w]+,)|uchi,(?:(?=pref,)|[-\\w]+,))|nashi,(?:(?=pref,)|[-\\w]+,))|okohama,(?:(?=city,)|[-\\w]+,))|))|k(?:e,[-\\w]+,|g,(?:org,|net,|com,|edu,|gov,|mil,|)|h,[-\\w]+,|i,(?:edu,|biz,|net,|org,|gov,|info,|com,|)|m,(?:org,|no(?:m,|taires,)|go(?:v,|uv,)|p(?:r(?:d,|esse,)|harmaciens,)|tm,|edu,|m(?:il,|edecin,)|ass(?:,|o,)|co(?:m,|op,)|veterinaire,|)|n,(?:net,|org,|edu,|gov,|)|r,(?:ac,|c(?:o,|hung(?:buk,|nam,))|es,|g(?:o,|angwon,|wangju,|yeong(?:buk,|gi,|nam,))|hs,|kg,|m(?:il,|s,)|ne,|or,|pe,|re,|s(?:c,|eoul,)|busan,|dae(?:gu,|jeon,)|incheon,|je(?:ju,|on(?:buk,|nam,))|ulsan,|)|w,[-\\w]+,|y,(?:edu,|gov,|com,|org,|net,|)|z,(?:org,|edu,|net,|gov,|mil,|com,|))|l(?:a,(?:in(?:t,|fo,)|net,|edu,|gov,|per,|c(?:om,|,)|org,|)|b,(?:com,|edu,|gov,|net,|org,)|c,(?:co(?:m,|,)|net,|org,|edu,|gov,|)|i,|k,(?:g(?:ov,|rp,)|s(?:ch,|oc,)|n(?:et,|go,)|int,|com,|org,|edu,|web,|ltd,|assn,|hotel,|)|r,(?:com,|edu,|gov,|org,|net,)|s,(?:co,|org,|)|t,(?:gov,|)|u,|v,(?:co(?:m,|nf,)|edu,|gov,|org,|mil,|id,|net,|asn,|)|y,(?:com,|net,|gov,|plc,|edu,|sch,|med,|org,|id,|))|m(?:a,(?:co,|net,|gov,|org,|ac,|press,|)|c,(?:tm,|asso,|)|d,|e,(?:co,|net,|org,|edu,|ac,|gov,|its,|priv,|)|g,(?:org,|nom,|gov,|prd,|tm,|edu,|mil,|com,|)|h,|il,|k,(?:com,|org,|n(?:et,|ame,)|edu,|gov,|inf,|)|l,[-\\w]+,|m,[-\\w]+,|n,(?:gov,|edu,|org,|)|o(?:,(?:com,|net,|org,|edu,|gov,|)|bi,)|p,|q,|r,(?:gov,|)|s,|t,[-\\w]+,|u(?:,(?:co(?:m,|,)|net,|or(?:g,|,)|gov,|ac,|)|seum,(?:a(?:cademy,|griculture,|ir(?:,|guard,)|la(?:bama,|ska,)|m(?:b(?:er,|ulance,)|erican(?:,|a(?:,|ntiques,|rt,))|sterdam,)|n(?:d,|nefrank,|t(?:hro(?:,|pology,)|iques,))|quarium,|r(?:boretum,|ch(?:aeolog(?:ical,|y,)|itecture,)|t(?:,|anddesign,|center,|deco,|education,|gallery,|s(?:,|andcrafts,)))|s(?:matart,|s(?:assination,|isi,|ociation,)|tronomy,)|tlanta,|u(?:st(?:in,|ralia,)|tomotive,)|viation,|xis,)|b(?:a(?:dajoz,|ghdad,|hn,|l(?:e,|timore,)|rcelona,|se(?:ball,|l,)|ths,|uern,)|e(?:auxarts,|eldengeluid,|llevue,|r(?:gbau,|keley,|lin,|n,))|i(?:ble,|l(?:bao,|l,)|r(?:dart,|thplace,))|o(?:nn,|ston,|tan(?:ic(?:al(?:,|garden,)|garden,)|y,))|r(?:a(?:ndywinevalley,|sil,)|i(?:stol,|tish(?:,|columbia,))|oadcast,|u(?:nel,|ssel(?:,|s,)|xelles,))|u(?:ilding,|rghof,|s(?:,|hey,)))|c(?:a(?:daques,|lifornia,|mbridge,|n(?:,|ada,)|pebreton,|r(?:rier,|toonart,)|s(?:adelamoneda,|t(?:le,|res,)))|e(?:ltic,|nter,)|h(?:attanooga,|e(?:ltenham,|sapeakebay,)|i(?:cago,|ldren(?:,|s(?:,|garden,))|ropractic,)|ocolate,|ristiansburg,)|i(?:n(?:cinnati,|ema,)|rcus,|vil(?:i(?:sation,|zation,)|war,))|l(?:inton,|ock,)|o(?:a(?:l,|staldefence,)|dy,|l(?:dwar,|lection,|o(?:nialwilliamsburg,|radoplateau,)|umb(?:ia,|us,))|m(?:muni(?:cation(?:,|s,)|ty,)|puter(?:,|history,)|unica\xe7\xf5es,)|n(?:temporary(?:,|art,)|vent,)|penhagen,|r(?:poration,|reios-e-telecomunica\xe7\xf5es,|vette,)|stume,|unt(?:ryestate,|y,))|r(?:a(?:fts,|nbrook,)|eation,)|ultur(?:al(?:,|center,)|e,)|y(?:ber,|mru,))|d(?:a(?:l(?:i,|las,)|tabase,)|dr,|e(?:corativearts,|l(?:aware,|menhorst,)|nmark,|pot,|sign,|troit,)|i(?:nosaur,|scovery,)|o(?:lls,|nostia,)|urham,)|e(?:ast(?:africa,|coast,)|ducation(?:,|al,)|gyptian,|isenbahn,|l(?:burg,|vendrell,)|mbroidery,|n(?:cyclopedic,|gland,|tomology,|vironment(?:,|alconservation,))|pilepsy,|s(?:sex,|tate,)|thnology,|x(?:eter,|hibition,))|f(?:a(?:mily,|rm(?:,|e(?:quipment,|rs,)|stead,))|i(?:eld,|gueres,|l(?:atelia,|m,)|n(?:eart(?:,|s,)|land,))|l(?:anders,|orida,)|o(?:r(?:ce,|t(?:missoula,|worth,))|undation,)|r(?:an(?:caise,|kfurt,|ziskaner,)|e(?:emasonry,|iburg,)|ibourg,|og,)|u(?:ndacio,|rniture,))|g(?:a(?:llery,|rden,|teway,)|e(?:elvinck,|mological,|o(?:logy,|rgia,))|iessen,|las(?:,|s,)|orge,|ra(?:ndrapids,|z,)|uernsey,)|h(?:a(?:lloffame,|mburg,|ndson,|rvestcelebration,|waii,)|e(?:alth,|imatunduhren,|l(?:las,|sinki,)|mbygdsforbund,|ritage,)|isto(?:ire,|r(?:i(?:c(?:al(?:,|society,)|houses,)|sch(?:,|es,))|y(?:,|ofscience,)))|o(?:rology,|use,)|umanities,)|i(?:llustration,|mageandsound,|n(?:dian(?:,|a(?:,|polis,)|market,)|te(?:lligence,|ractive,))|r(?:aq,|on,)|sleofman,)|j(?:amison,|e(?:fferson,|rusalem,|w(?:elry,|ish(?:,|art,)))|fk,|ournalism,|u(?:d(?:aica,|ygarland,)|edisches,|if,))|k(?:ar(?:ate,|ikatur,)|ids,|oe(?:benhavn,|ln,)|unst(?:,|sammlung,|unddesign,))|l(?:a(?:bo(?:r,|ur,)|jolla,|n(?:cashire,|des,|s,)|rsson,)|\xe4ns,|ewismiller,|i(?:n(?:coln,|z,)|ving(?:,|history,))|o(?:calhistory,|ndon,|sangeles,|uvre,|yalist,)|u(?:cerne,|xembourg,|zern,))|m(?:a(?:d(?:,|rid,)|llorca,|n(?:chester,|sion(?:,|s,)|x,)|r(?:burg,|itim(?:e,|o,)|yl(?:and,|hurst,)))|e(?:di(?:a,|cal,|zinhistorisches,)|eres,|morial,|saverde,)|i(?:chigan,|datlantic,|l(?:itary,|l,)|n(?:ers,|ing,|nesota,)|ss(?:ile,|oula,))|o(?:dern,|ma,|n(?:ey,|mouth,|t(?:icello,|real,))|scow,|torcycle,)|u(?:en(?:chen,|ster,)|lhouse,|ncie,|s(?:e(?:et,|um(?:center,|vereniging,))|ic,)))|n(?:a(?:t(?:i(?:onal(?:,|firearms,|heritage,)|veamerican,)|u(?:r(?:al(?:history(?:,|museum,)|sciences,)|e,|historisches,)|urwetenschappen,))|umburg,|val,)|e(?:braska,|ues,|w(?:hampshire,|jersey,|mexico,|port,|spaper,|york,))|iepce,|or(?:folk,|th,)|rw,|u(?:ernberg,|remberg,)|y(?:c,|ny,))|o(?:ceanographi(?:c,|que,)|maha,|n(?:line,|tario,)|penair,|regon(?:,|trail,)|tago,|xford,)|p(?:a(?:cific,|derborn,|l(?:ace,|eo,|msprings,)|nama,|ris,|sadena,)|h(?:armacy,|ila(?:delphia(?:,|area,)|tely,)|o(?:enix,|tography,))|i(?:lots,|ttsburgh,)|la(?:n(?:etarium,|t(?:ation,|s,))|za,)|o(?:rt(?:al,|l(?:and,|ligat,))|sts-and-telecommunications,)|r(?:es(?:ervation,|idio,|s,)|oject,)|ub(?:lic,|ol,))|quebec,|r(?:ail(?:road,|way,)|es(?:earch,|istance,)|iodejaneiro,|o(?:c(?:hester,|kart,)|ma,)|ussia,)|s(?:a(?:intlouis,|l(?:em,|vadordali,|zburg,)|n(?:diego,|francisco,|ta(?:barbara,|cruz,|fe,))|skatchewan,|tx,|vannahga,)|c(?:h(?:lesisches,|o(?:enbrunn,|koladen,|ol,)|weiz,)|ience(?:,|and(?:history,|industry,)|center(?:,|s,)|-fiction,|history,|s(?:,|naturelles,))|otland,)|e(?:aport,|ttle(?:ment,|rs,))|he(?:ll,|rbrooke,)|i(?:benik,|lk,)|k(?:i,|ole,)|o(?:ciety,|logne,|u(?:ndandvision,|th(?:carolina,|west,)))|p(?:ace,|y,)|quare,|t(?:a(?:dt,|lbans,|rnberg,|t(?:e(?:,|ofdelaware,)|ion,))|e(?:am,|iermark,)|john,|ockholm,|petersburg,|uttgart,)|u(?:isse,|r(?:geonshall,|rey,))|vizzera,|weden,|ydney,)|t(?:ank,|cm,|e(?:chnology,|le(?:kommunikation,|vision,)|x(?:as,|tile,))|heater,|ime(?:,|keeping,)|o(?:pology,|rino,|uch,|wn,)|r(?:ansport,|ee,|olley,|ust(?:,|ee,)))|u(?:hren,|lm,|n(?:dersea,|iversity,)|s(?:a(?:,|ntiques,|rts,)|c(?:ountryestate,|ulture,)|decorativearts,|garden,|h(?:istory,|uaia,)|livinghistory,)|tah,|vic,)|v(?:a(?:lley,|ntaa,)|ersailles,|i(?:king,|llage,|r(?:ginia,|tu(?:al,|el,)))|laanderen,|olkenkunde,)|w(?:a(?:l(?:es,|lonie,)|r,|shingtondc,|tch(?:andclock,|-and-clock,))|est(?:ern,|falen,)|haling,|i(?:l(?:dlife,|liamsburg,)|ndmill,)|orkshop,)|yo(?:rk(?:,|shire,)|semite,|uth,)|zoolog(?:ical,|y,)|\u05d9\u05e8\u05d5\u05e9\u05dc\u05d9\u05dd,|\u0438\u043a\u043e\u043c,|))|v,[-\\w]+,|w,(?:ac,|biz,|co(?:,|m,|op,)|edu,|gov,|int,|net,|org,|)|x,(?:com,|org,|gob,|edu,|net,|)|y,(?:com,|n(?:et,|ame,)|org,|gov,|edu,|mil,|)|z,[-\\w]+,)|n(?:a(?:,(?:in(?:fo,|,)|pro,|name,|school,|or(?:,|g,)|dr,|us,|m(?:x,|obi,)|c(?:a,|c,|o(?:,|m,))|tv,|ws,|)|me,)|c,|e(?:,|t,(?:gb,|se,|uk,|))|f,(?:com,|net,|per,|rec,|web,|arts,|firm,|info,|other,|store,|)|g,(?:ac,|com,|edu,|gov,|net,|org,)|i,[-\\w]+,|l,|o,(?:f(?:hs,|y(?:lkesbibl,|resdal,)|o(?:l(?:kebibl,|ldal,)|r(?:sand,|de,)|snes,)|m,(?:gs,|)|e(?:t(?:sund,|,)|dje,)|l(?:or(?:o,|\xf8,|a,)|a(?:kstad,|tanger,|,)|e(?:kkefjord,|sberg,)|\xe5,)|r(?:e(?:drikstad,|i,)|o(?:gn,|land,|sta,|ya,)|ana,|\xe6na,|\xf8ya,)|a(?:rsund,|uske,)|u(?:o(?:ssko,|isku,)|sa,)|i(?:nn(?:oy,|\xf8y,)|tjar,)|j(?:aler,|ell,)|\xf8rde,)|v(?:gs,|a(?:,(?:gs,|)|ds(?:o,|\xf8,)|ksdal,|lle,|n(?:g,|ylven,)|r(?:d(?:o,|\xf8,)|ggat,|oy,)|apste,|g(?:a(?:n,|,)|soy,))|f,(?:gs,|)|o(?:ss(?:evangen,|,)|lda,|agat,)|e(?:st(?:fold,sande,|by,|nes,|re-(?:slidre,|toten,)|v(?:agoy,|\xe5g\xf8y,))|fsn,|g(?:a(?:,|rshei,)|\xe5rshei,)|nnesla,|r(?:dal,|ran,)|velstad,)|\xe1rgg\xe1t,|i(?:k(?:,|na,)|ndafjord,)|\xe6r\xf8y,|\xe5g(?:an,|s\xf8y,|\xe5,))|m(?:u(?:seum,|os(?:at,|\xe1t,))|i(?:l,|d(?:sund,|tre-gauldal,))|r,(?:gs,|)|j(?:ondalen,|\xf8ndalen,)|o(?:-i-rana,|s(?:j(?:oen,|\xf8en,)|kenes,|s,|vik,)|re-og-romsdal,(?:heroy,|sande,)|areke,|\xe5reke,|d(?:alen,|um,)|lde,)|\xf8re-og-romsdal,(?:her\xf8y,|sande,)|a(?:l(?:vik,|selv,|atvuopmi,)|s(?:oy,|fjorden,)|ndal,|r(?:ker,|nardal,)|tta-varjjat,)|\xe5(?:s\xf8y,|lselv,)|e(?:l(?:and,|dal,|hus,|oy,|\xf8y,)|r(?:aker,|\xe5ker,))|\xe1(?:latvuopmi,|tta-v\xe1rjjat,))|i(?:drett,|bestad,|nder(?:oy,|\xf8y,)|v(?:eland,|gu,))|p(?:riv,|ors(?:ang(?:er,|u,)|\xe1\u014bgu,|grunn,))|s(?:t(?:a(?:t(?:,|helle,)|v(?:ern,|anger,)|nge,)|,(?:gs,|)|j(?:ordal(?:shalsen,|,)|\xf8rdal(?:shalsen,|,))|ei(?:gen,|nkjer,)|o(?:kke,|r(?:-elvdal,|d(?:,|al,)|fjord,))|r(?:and(?:,|a,)|yn,))|f,(?:gs,|)|v(?:albard,(?:gs,|)|e(?:io,|lvik,))|a(?:nd(?:nes(?:sj(?:oen,|\xf8en,)|,)|efjord,|oy,|\xf8y,)|l(?:a(?:ngen,|t,)|tdal,)|mnanger,|rpsborg,|u(?:da,|herad,))|k(?:edsmo(?:korset,|,)|a(?:un,|n(?:land,|it,))|i(?:,|e(?:n,|rv(?:a,|\xe1,))|ptvet,)|j(?:erv(?:oy,|\xf8y,)|ak,|\xe5k,)|odje,|\xe5nland,|\xe1nit,)|lattum,|p(?:jelkavik,|ydeberg,)|i(?:ellak,|gdal,|ljan,|rdal,)|\xe1l(?:\xe1t,|at,)|el(?:,|bu,|j(?:e,|ord,))|m(?:ola,|\xf8la,)|n(?:illfjord,|a(?:sa,|ase,)|\xe5(?:sa,|ase,)|oasa,)|o(?:gn(?:dal,|e,)|kndal,|l(?:a,|und,)|n(?:gdalen,|dre-land,)|r(?:tland,|-(?:aurdal,|fron,|odal,|varanger,)|fold,|reisa,|um,)|mna,)|u(?:l(?:a,|dal,)|n(?:d,|ndal,)|rnadal,)|ykkylven,|\xf8(?:gne,|mna,|ndre-land,|r(?:-(?:aurdal,|fron,|odal,|varanger,)|fold,|reisa,|um,)))|d(?:e(?:p,|atnu,)|r(?:obak,|\xf8bak,|a(?:mmen,|ngedal,))|o(?:vre,|nna,)|yr(?:oy,|\xf8y,)|\xf8nna,|avve(?:siida,|nj(?:arga,|\xe1rga,))|i(?:elddanuorri,|vt(?:asvuodna,|tasvuotna,)))|k(?:o(?:mmune,|pervik,|ngs(?:berg,|vinger,))|irkenes,|r(?:o(?:kstadelva,|dsherad,)|a(?:anghke,|ger(?:o,|\xf8,))|\xe5anghke,|istians(?:and,|und,)|\xf8dsherad,)|a(?:r(?:asjo(?:k,|hka,)|lsoy,|m(?:oy,|\xf8y,))|utokeino,|fjord,)|\xe1r\xe1\u0161johka,|l(?:epp,|abu,|\xe6bu,)|v(?:a(?:lsund,|m,|fjord,|nangen,)|i(?:n(?:esdal,|nherad,)|t(?:eseid,|s(?:oy,|\xf8y,)))|\xe6(?:fjord,|nangen,))|\xe5fjord,)|h(?:e(?:rad,|m(?:ne(?:,|s,)|sedal,)|dmark,(?:os,|v(?:aler,|\xe5ler,)))|l,(?:gs,|)|m,(?:gs,|)|o(?:kksund,|nefoss,|b(?:ol,|\xf8l,)|f,|l(?:,|e,|mestrand,|t(?:alen,|\xe5len,))|r(?:nindal,|ten,|daland,os,)|y(?:anger,|landet,))|\xf8(?:nefoss,|y(?:anger,|landet,))|a(?:dsel,|l(?:den,|sa,)|m(?:ar(?:,|oy,)|m(?:erfest,|arfeasta,))|bmer,|pmir,|r(?:am,|eid,|stad,)|svik,|ttfjelldal,|ugesund,|gebostad,|,)|\xe1(?:bmer,|pmir,|mm\xe1rfeasta,)|itra,|j(?:artdal,|elmeland,)|ur(?:dal,|um,)|valer,|yllestad,|\xe6gebostad,|\xe5,)|a(?:a(?:,(?:gs,|)|rborte,)|h,(?:gs,|)|k(?:rehamn,|noluokta,|ershus,nes,)|l(?:gard,|,|esund,|stahaug,|ta,|aheadju,|vdal,)|r(?:na,|dal,|e(?:mark,|ndal,))|fjord,|gdenes,|m(?:li,|ot,)|nd(?:ebu,|oy,|\xf8y,|asuolo,)|s(?:eral,|k(?:er,|im,|voll,|oy,|\xf8y,)|nes,)|u(?:dnedaln,|kra,|r(?:e,|land,|skog-h(?:oland,|\xf8land,))|st(?:evoll,|rheim,))|ver(?:oy,|\xf8y,)|ejrie,)|b(?:u(?:,(?:gs,|)|dejju,|skerud,nes,)|r(?:umunddal,|yne,|onnoy(?:sund,|,)|\xf8nn\xf8y(?:sund,|,)|emanger,)|a(?:l(?:estrand,|langen,|at,|sfjord,)|hc(?:cavuotna,|avuotna,)|mble,|r(?:du,|um,)|jddar,|idar,|daddja,|tsfjord,)|\xe1(?:l\xe1t,|hc(?:cavuotna,|avuotna,)|jddar,|id\xe1r,)|e(?:ar(?:du,|alv(?:ahki,|\xe1hki,))|iarn,|r(?:g(?:,|en,)|lev(?:ag,|\xe5g,)))|i(?:ndal,|rkenes,|ev(?:at,|\xe1t,))|j(?:ark(?:oy,|\xf8y,)|erkreim,|ugn,)|o(?:d(?:o,|\xf8,)|kn,|mlo,)|\xe5(?:d\xe5ddj\xe5,|tsfjord,)|y(?:gland,|kle,)|\xe6rum,|\xf8mlo,)|j(?:an-mayen,(?:gs,|)|e(?:ssheim,|vnaker,)|o(?:rpeland,|ndal,|lster,)|\xf8(?:rpeland,|lster,))|n(?:l,(?:gs,|)|t,(?:gs,|)|e(?:s(?:odd(?:tangen,|en,)|na,|se(?:by,|t,))|dre-eiker,)|o(?:r(?:d(?:land,(?:b(?:o,|\xf8,)|her(?:oy,|\xf8y,))|-(?:aurdal,|fron,|odal,)|dal,|kapp,|re(?:-land,|isa,))|e-og-uvdal,)|t(?:odden,|teroy,))|a(?:vuotna,|m(?:dalseid,|s(?:os,|skogan,))|amesjevuemie,|nnestad,|r(?:vi(?:k,|ika,)|oy,)|ustdal,)|\xe1vuotna,|\xe5\xe5mesjevuemie,|i(?:ssedal,|ttedal,)|\xe6r\xf8y,|\xf8tter\xf8y,)|o(?:f,(?:gs,|)|l,(?:gs,|)|s(?:lo,(?:gs,|)|oyro,|\xf8yro,|en,|t(?:er(?:oy,|\xf8y,)|re-toten,|fold,valer,))|r(?:k(?:anger,|dal,)|land,|s(?:kog,|ta,))|dda,|ksnes,|pp(?:dal,|eg(?:ard,|\xe5rd,))|v(?:erhalla,|re-eiker,)|y(?:er,|garden,|stre-slidre,)|masvuotna,)|r(?:l,(?:gs,|)|a(?:h(?:olt,|kkeravju,)|isa,|d(?:oy,|\xf8y,|e,)|kkestad,|n(?:a,|daberg,)|uma,|lingen,)|\xe5(?:holt,|de,)|\xe1(?:hkker\xe1vju,|isa,)|uovat,|en(?:dalen,|ne(?:bu,|s(?:oy,|\xf8y,)))|i(?:n(?:dal,|g(?:e(?:bu,|rike,)|saker,))|s(?:sa,|or,|\xf8r,))|o(?:an,|llag,|doy,|ms(?:kog,|a,)|ros,|st,|y(?:ken,|rvik,))|ygge,|\xe6lingen,|\xf8(?:d\xf8y,|mskog,|ros,|st,|y(?:ken,|rvik,)))|t(?:m,(?:gs,|)|r(?:,(?:gs,|)|an(?:by,|oy,|\xf8y,|a,)|o(?:ms(?:o,|\xf8,|a,)|ndheim,|andin,|gstad,)|ysil,|\xe6na,|\xf8gstad,)|ana(?:nger,|,)|elemark,b(?:o,|\xf8,)|i(?:me,|n(?:gvoll,|n,))|j(?:eldsund,|ome,|\xf8me,)|o(?:kke,|lga,|rsken,|nsberg,)|vedestrand,|y(?:dal,|nset,|s(?:fjord,|nes,|v(?:ar,|\xe6r,)))|\xf8nsberg,)|\xe5(?:krehamn,|l(?:g\xe5rd,|,|esund,)|fjord,|m(?:li,|ot,)|rdal,|s(?:,|eral,|nes,))|e(?:gersund,|i(?:d(?:,|fjord,|s(?:berg,|kog,|voll,))|gersund,)|lverum,|n(?:ebakk,|gerdal,)|tne(?:,|dal,)|v(?:en(?:es,|assi,|\xe1\u0161\u0161i,)|je-og-hornnes,))|l(?:a(?:ngev(?:ag,|\xe5g,)|r(?:vik,|dal,)|va(?:ngen,|gis,)|hppi,|akesvuemie,)|e(?:i(?:r(?:vik,|fjord,)|kanger,)|besby,|k(?:a,|svik,)|nvik,|a(?:ngaviika,|\u014bgaviika,)|sja,|vanger,|rdal,)|o(?:ab(?:at,|\xe1t,)|m,|ppa,|dingen,|renskog,|ten,)|i(?:er(?:,|ne,)|lle(?:hammer,|sand,)|nd(?:esnes,|as,|\xe5s,))|\xe1hppi,|u(?:n(?:d,|ner,)|r(?:oy,|\xf8y,)|ster,)|yng(?:dal,|en,)|\xe6rdal,|\xf8(?:dingen,|renskog,|ten,))|\xe1(?:l(?:t\xe1,|aheadju,)|k\u014boluokta,)|g(?:a(?:mvik,|ngaviika,|u(?:lar,|sdal,)|lsa,|ivuotna,)|\xe1(?:\u014bgaviika,|ls\xe1,|ivuotna,)|i(?:ldesk(?:al,|\xe5l,)|ske,|ehtavuoatna,)|j(?:e(?:mnes,|r(?:drum,|stad,)|sdal,)|ovik,|\xf8vik,)|loppen,|ol,|r(?:a(?:n(?:,|e,|vin,)|tangen,)|imstad,|ong,|ue,)|u(?:len,|ovdageaidnu,))|u(?:nj(?:arga,|\xe1rga,)|l(?:lens(?:aker,|vang,)|vik,)|tsira,)|\xf8(?:ksnes,|r(?:land,|s(?:kog,|ta,))|st(?:re-toten,|fold,v\xe5ler,)|vre-eiker,|y(?:er,|garden,|stre-slidre,))|cahcesuolo,|\u010d\xe1hcesuolo,|)|p,[-\\w]+,|r,(?:biz,|info,|gov,|edu,|org,|net,|com,|)|u,|z,[-\\w]+,)|o(?:m,[-\\w]+,|rg,(?:ae,|))|p(?:a,(?:(?=nic,)|(?=pannet,)|(?=presidencia,)|(?=milpolleras,)|(?=sume911,)|(?=root-ca,)|[-\\w]+,)|e,(?:edu,|gob,|n(?:om,|et,)|mil,|org,|com,|)|f,(?:com,|org,|edu,|)|g,[-\\w]+,|h,(?:com,|n(?:et,|go,)|org,|gov,|edu,|mil,|i,|)|k,(?:com,|net,|edu,|org,|fam,|biz,|web,|go(?:v,|b,|k,|n,|p,|s,)|info,|)|l,(?:a(?:id,|gro,|tm,|u(?:to,|gustow,)|rt,)|b(?:i(?:z,|al(?:owieza,|ystok,)|e(?:lawa,|szczady,))|abia-gora,|e(?:dzin,|skidy,)|oleslawiec,|y(?:dgoszcz,|tom,))|c(?:om,|ieszyn,|ze(?:ladz,|st,))|e(?:du,|l(?:blag,|k,))|g(?:mina,|sm,|o(?:v,(?:u(?:w,|m,|g,|pow,)|s(?:tarostwo,|o,|r,)|p(?:o,|a,)|)|rlice,)|l(?:ogow,|iwice,)|niezno,|rajewo,|d(?:a(?:,|nsk,)|ynia,))|i(?:nfo,|rc,|lawa,)|m(?:a(?:il,|l(?:bork,|opolska,)|z(?:owsze,|ury,))|i(?:asta,|l,|el(?:ec,|no,))|ed(?:ia,|,)|bone,|ragowo,)|n(?:et,|ieruchomosci,|o(?:m,|waruda,)|go,|aklo,|ysa,)|o(?:rg,|l(?:awa,|ecko,|kusz,|sztyn,)|po(?:czno,|le,)|stro(?:da,|leka,|w(?:iec,|wlkp,)))|p(?:c,|o(?:wiat,|d(?:hale,|lasie,)|lkowice,|mor(?:ze,|skie,)|znan,)|r(?:iv,|ochowice,|uszkow,|zeworsk,)|i(?:la,|sz,)|ulawy,)|r(?:e(?:alestate,|l,)|a(?:dom,|wa-maz,)|ybnik,|zeszow,)|s(?:e(?:x,|jny,)|hop,|k(?:lep,|oczow,)|o(?:s(?:,|nowiec,)|pot,)|z(?:kola,|cz(?:ecin,|ytno,))|anok,|l(?:ask,|upsk,)|ta(?:lowa-wola,|r(?:achowice,|gard,))|uwalki,|wi(?:dnica,|ebodzin,|noujscie,))|t(?:ar(?:gi,|nobrzeg,)|m,|ourism,|ravel,|ur(?:ystyka,|ek,)|gory,|ychy,)|6bone,|us(?:enet,|tka,)|dlugoleka,|j(?:aworzno,|elenia-gora,|gora,)|k(?:a(?:lisz,|zimierz-dolny,|r(?:pacz,|tuzy,)|szuby,|towice,)|e(?:pno,|trzyn,)|lodzko,|o(?:bierzyce,|lobrzeg,|n(?:in,|skowola,))|utno,|rakow,)|l(?:apy,|e(?:bork,|gnica,|zajsk,)|imanowa,|o(?:mza,|wicz,)|u(?:bin,|kow,))|w(?:a(?:lbrzych,|r(?:mia,|szawa,)|w,)|egrow,|ielun,|locl(?:,|awek,)|o(?:dzislaw,|lomin,)|roc(?:law,|,))|z(?:a(?:chpomor,|gan,|row,|kopane,)|gor(?:a,|zelec,))|)|n,(?:gov,|co,|org,|edu,|net,|)|r(?:,(?:com,|n(?:et,|ame,)|org,|gov,|e(?:du,|st,)|i(?:sla,|nfo,)|pro(?:,|f,)|biz,|ac,|)|o,(?:aca,|bar,|cpa,|jur,|law,|med,|eng,|))|s,(?:edu,|gov,|sec,|plo,|com,|org,|net,|)|t,(?:n(?:et,|ome,)|gov,|org,|edu,|int,|publ,|com,|)|w,[-\\w]+,|y,[-\\w]+,)|qa,[-\\w]+,|r(?:e,(?:com,|asso,|nom,|)|o,(?:com,|org,|tm,|n(?:t,|om,)|info,|rec,|arts,|firm,|store,|www,|)|s,(?:co,|org,|edu,|ac,|gov,|in,|)|u,(?:a(?:c,|dygeya,|ltai,|mur(?:,|sk,)|rkhangelsk,|strakhan,)|c(?:om,|bg,|h(?:el(?:,|yabinsk,)|ita,|u(?:kotka,|vashia,))|mw,)|n(?:et,|a(?:lchik,|khodka,)|nov,|o(?:v(?:osibirsk,|,)|rilsk,)|sk,|kz,)|o(?:r(?:g,|enburg,|yol,)|msk,|skol,)|p(?:p,|alana,|e(?:nza,|rm,)|skov,|tz,|yatigorsk,)|i(?:nt,|rkutsk,|vanovo,|zhevsk,)|b(?:a(?:shkiria,|ikal,)|elgorod,|ir,|ryansk,|uryatia,)|d(?:agestan,|udinka,)|e-burg,|grozny,|j(?:a(?:r,|mal,)|oshkar-ola,)|k(?:a(?:l(?:mykia,|uga,)|mchatka,|relia,|zan,)|chr,|emerovo,|h(?:a(?:barovsk,|kassia,)|v,)|irov,|o(?:enig,|mi,|stroma,)|rasnoyarsk,|u(?:ban,|r(?:gan,|sk,)|stanai,|zbass,)|ms,|-uralsk,)|lipetsk,|m(?:a(?:g(?:adan,|nitka,)|ri(?:-el,|ne,|,))|o(?:rdovia,|sreg,)|sk,|urmansk,|ytis,)|r(?:nd,|yazan,|ubtsovsk,)|s(?:a(?:khalin,|mara,|ratov,)|imbirsk,|molensk,|pb,|t(?:avropol,|v,)|urgut,|nz,|yzran,)|t(?:a(?:mbov,|tarstan,|gil,)|om(?:,|sk,)|s(?:aritsyn,|k,)|u(?:la,|va,)|ver,|yumen,)|u(?:dm(?:,|urtia,)|lan-ude,)|v(?:ladi(?:kavkaz,|mir,|vostok,)|o(?:l(?:gograd,|ogda,)|ronezh,)|rn,|yatka,|donsk,)|y(?:a(?:kutia,|mal,|roslavl,)|ekaterinburg,|uzhno-sakhalinsk,)|fareast,|zgrad,|)|w,(?:go(?:v,|uv,)|net,|edu,|ac,|co(?:m,|,)|int,|mil,|))|s(?:a,[-\\w]+,|b,(?:com,|edu,|gov,|net,|org,|)|c,(?:com,|gov,|net,|org,|edu,|)|d,(?:com,|net,|org,|edu,|med,|gov,|info,|)|e,(?:a(?:,|c,)|b(?:,|d,|rand,)|c,|d,|e,|f(?:,|h(?:,|sk,|v,))|g,|h,|i,|k(?:,|om(?:forb,|munalforbund,|vux,))|l(?:,|anbib,)|m,|n(?:,|aturbruksgymn,)|o(?:,|rg,)|p(?:,|arti,|p,|ress,)|r,|s(?:,|shn,)|t(?:,|m,)|u,|w,|x,|y,|z,|)|g,(?:com,|net,|org,|gov,|edu,|per,|)|h,|i,|k,|l,(?:com,|net,|edu,|gov,|org,|)|m,|n,|r,|t,(?:gov,|s(?:aotome,|tore,)|principe,|co(?:nsulado,|m,|,)|org,|edu,|net,|mil,|)|u,|v,[-\\w]+,|y,(?:edu,|gov,|net,|mil,|com,|org,|)|z,(?:co,|ac,|org,|))|t(?:c,|d,|el,|f,|g,|h,(?:ac,|co,|go,|in,|mi,|net,|or,|)|j,(?:ac,|biz,|co(?:m,|,)|edu,|int,|n(?:ame,|et,)|org,|web,|go(?:v,|,)|mil,|)|k,|l,(?:gov,|)|m,|n,(?:com,|e(?:ns,|dunet,)|fin,|gov,|in(?:d,|tl,|fo,)|n(?:at,|et,)|org,|perso,|t(?:ourism,|uren,)|rn(?:rt,|s,|u,)|mincom,|agrinet,|defense,|)|o,(?:com,|gov,|net,|org,|edu,|mil,|)|r(?:,[-\\w]+,|avel,)|t,(?:co(?:,|m,|op,)|org,|n(?:et,|ame,)|biz,|in(?:fo,|t,)|pro,|jobs,|m(?:obi,|useum,)|travel,|aero,|gov,|edu,|)|v,(?:com,|net,|org,|gov,|)|w,(?:e(?:du,|biz,)|g(?:ov,|ame,)|mil,|c(?:om,|lub,)|net,|org,|idv,|\u7db2\u8def,|\u7d44\u7e54,|\u5546\u696d,|)|z,(?:ac,|co,|go,|ne,|or,))|u(?:a,(?:c(?:om,|her(?:kassy,|n(?:igov,|ovtsy,))|k,|n,|rimea,|v,)|edu,|gov,|n(?:et,|ikolaev,)|o(?:rg,|d(?:,|essa,))|d(?:n(?:,|epropetrovsk,)|onetsk,|p,)|i(?:f,|vano-frankivsk,)|k(?:h(?:,|arkov,|erson,|melnitskiy,)|i(?:ev,|rovograd,)|m,|r,|s,|v,)|l(?:g,|u(?:gansk,|tsk,)|viv,)|mk,|p(?:l,|oltava,)|r(?:ovno,|v,)|s(?:ebastopol,|umy,)|te(?:,|rnopil,)|v(?:innica,|n,)|z(?:aporizhzhe,|p,|hitomir,|t,)|uzhgorod,|)|g,(?:co,|ac,|sc,|go,|ne,|or,|)|k,(?:sch,[-\\w]+,|(?=bl,)|(?=british-library,)|(?=icnet,)|(?=jet,)|(?=nel,)|(?=nhs,)|(?=nls,)|(?=national-library-scotland,)|(?=parliament,)|[-\\w]+,)|s,(?:d(?:ni,|c,|e,)|f(?:ed,|l,)|i(?:sa,|a,|d,|l,|n,)|k(?:ids,|s,|y,)|n(?:sn,|c,|d,|e,|h,|j,|m,|v,|y,)|a(?:k,|l,|r,|s,|z,)|c(?:a,|o,|t,)|g(?:a,|u,)|hi,|la,|m(?:a,|d,|e,|i,|n,|o,|s,|t,)|o(?:h,|k,|r,)|p(?:a,|r,)|ri,|s(?:c,|d,)|t(?:n,|x,)|ut,|v(?:i,|t,|a,)|w(?:a,|i,|v,|y,)|)|y,[-\\w]+,|z,(?:co(?:m,|,)|))|v(?:a,|c,(?:com,|net,|org,|gov,|mil,|edu,|)|e,[-\\w]+,|g,|i,(?:com,|org,|edu,|gov,|)|n,(?:com,|n(?:et,|ame,)|org,|edu,|gov,|in(?:t,|fo,)|ac,|biz,|pro,|health,|)|u,)|ws,(?:com,|net,|org,|gov,|edu,|)|y(?:e,[-\\w]+,|u,[-\\w]+,)|z(?:a,[-\\w]+,|m,[-\\w]+,|w,[-\\w]+,)|[-\\w]+,)(?:[-\\w]+,)'

REDUCE_PATTERN = re.compile(TASP_RE.replace('\n',''), re.IGNORECASE)

URI_SPLITTER = re.compile(
    r"^(\w+://)(?:([-\w\.!~\*'\(\)%;:&=+$,]+?)(@))?"
    r"(?:((?:\d{1,3}\.){3}\d{1,3})|(\S+?))(:\d+)?(/\S*)?$"
    )

def surt_form(s, preserveCase=False):
    '''clone of org.archive.net.SURT#fromURI(String, boolean)'''
    m = URI_SPLITTER.match(s)
    if not m:
        return s
    b = []
    # scheme://
    b.append(m.group(1))
    # BEGIN_TRANSFORMED_AUTHORITY
    b.append('(')
    if m.group(4):
        # dotted-quad ip match: don't reverse
        b.append(m.group(4))
    else:
        # other hostname match: do reverse
        b.append(','.join(reversed(m.group(5).split('.'))) + ',')
    # port
    if m.group(6):
        b.append(m.group(6))
    # at
    if m.group(3):
        b.append(m.group(3))
    # userinfo
    if m.group(2):
        b.append(m.group(2))
    b.append(')')
    # path
    if m.group(7):
        b.append(m.group(7))
    if not preserveCase:
        return ''.join(b).lower()
    else:
        return ''.join(b)
    
def core_key(uri):
    candidate = surt_authority(surt_form(uri))
    return candidate.replace(':', '#')

def surt_authority(surt):
    indexOfOpen = surt.index('://(')
    indexOfClose = surt.index(')')
    if indexOfOpen == -1 or indexOfClose == -1 or indexOfClose - indexOfOpen <= 4:
        return "default..."
    else:
        return surt[indexOfOpen+4:indexOfClose]
    
def fingerprint(curi):
    '''compute fingerprint for curi. curi is an URL in regular format'''
    key = core_key(curi)
    m = REDUCE_PATTERN.search(key)
    if m:
        key = m.group(0)
    return fpgenerator.std64.fp(key)
    
def map(curi, bucketCount):
    '''note this function returns int, rather than string'''
    fp = fingerprint(curi)
    # for compatibility with Java version (while Java's mod gives negative
    # for negative dividend, Python returns positive): H3 takes abs of mod
    if fp >= (1 << 63):
        fp = (1 << 64) - fp
    bucket = fp % bucketCount
    return bucket
                               
# test
if __name__ == '__main__':
    print "Testing surt_form()"
    assert surt_form('http://www.archive.org') == 'http://(org,archive,www,)'
    print "1 - OK"
    assert surt_form('http://www.archive.org/movies/movies.php') == \
        'http://(org,archive,www,)/movies/movies.php'
    print "2 - OK"
    assert surt_form('http://www.archive.org:8080/movies/movies.php') == \
        'http://(org,archive,www,:8080)/movies/movies.php'
    print "3 - OK"
    assert surt_form('http://user:pass@www.archive.org/movies/movies.php') == \
        'http://(org,archive,www,@user:pass)/movies/movies.php'
    print "4 - OK"
    assert surt_form('http://user:pass@www.archive.org:8080/movies/movies.php') == \
        'http://(org,archive,www,:8080@user:pass)/movies/movies.php'
    print "5 - OK"
    assert surt_form("http://www.archive.org/movies/movies.php#top") == \
        "http://(org,archive,www,)/movies/movies.php#top"
    print "6 - OK"
    
    assert surt_form("http://www.example.com/foo@bar") == \
        "http://(com,example,www,)/foo@bar"
    print "7 - OK"

    assert surt_form("http://127.2.34.5/foo") == \
        "http://(127.2.34.5)/foo"
    print "8 - OK"

    def r(surt, expected):
        m = REDUCE_PATTERN.match(surt)
        if m:
            r = m.group(0)
        else:
            r = surt
        assert r == expected, "%s: expected '%s', got '%s'" % (
            surt, expected, r)
            
    # same test cases as found in PublicSuffixesTest.java

    # testBasics
    r('com,example,www,', 'com,example,')
    r('com,example,', 'com,example,')
    r('org,archive,www,', 'org,archive,')
    r('org,archive,', 'org,archive,')
    r('fr,yahoo,www', 'fr,yahoo,')
    r('au,com,foobar,www,', 'au,com,foobar,')
    r('au,com,foobar,', 'au,com,foobar,')
    r('uk,co,virgin,www,', 'uk,co,virgin,')
    r('uk,co,virgin,', 'uk,co,virgin,')
    r('au,com,example,www,', 'au,com,example,')
    r('au,com,example,', 'au,com,example,')
    r('jp,tokyo,public,assigned,www,', 'jp,tokyo,public,assigned,')
    r('jp,tokyo,public,assigned,', 'jp,tokyo,public,assigned,')

    # testDomainWithDash
    r('de,bad-site,www,', 'de,bad-site,')

    # testDomainWithNumbers
    r('de,archive4u,www,', 'de,archive4u,')

    # testIPV4
    r('1.2.3.4', '1.2.3.4')

    # testIPV6
    r('[2001:0db8:85a3:08d3:1319:8a2e:0370:7344]',
      '[2001:0db8:85a3:08d3:1319:8a2e:0370:7344]')

    # testExceptions
    r('uk,bl,www,', 'uk,bl,')
    r('uk,bl,', 'uk,bl,')
    r('jp,tokyo,metro,subdomain,', 'jp,tokyo,metro,')
    r('jp,tokyo,metro,', 'jp,tokyo,metro,')

    # testFakeTLD
    r('zzz,example,www,', 'zzz,example,')

    # testUnsegmentedHostname
    assert REDUCE_PATTERN.match('example') is None, \
        'unexpected match found in "example"'
